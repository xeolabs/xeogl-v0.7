<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>src/xeogl.js - xeogl</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link href='https://fonts.googleapis.com/css?family=Exo+2:400,800,900,700,600,500|Roboto:100,300,400,500,700,900'  rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="icon" href="../assets/favicon.ico">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">

                <h1 class="projectTitle"><a href="../../">xeogl</a> / <a href="../../docs">API Docs</a></h1>

        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 0.7.0</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
                
                    <div id="api-tabview" class="tabview">
                        <ul class="tabs">
                            <li><a href="#api-classes">Classes</a></li>
                            <li><a href="#api-modules">Modules</a></li>
                        </ul>
                
                        <div id="api-tabview-filter">
                            <input type="search" id="api-filter" placeholder="Type to filter APIs">
                        </div>
                
                        <div id="api-tabview-panel">
                            <ul id="api-classes" class="apis classes">
                                <li><a href="../classes/AABBGeometry.html">AABBGeometry</a></li>
                                <li><a href="../classes/AABBHelper.html">AABBHelper</a></li>
                                <li><a href="../classes/AmbientLight.html">AmbientLight</a></li>
                                <li><a href="../classes/Annotation.html">Annotation</a></li>
                                <li><a href="../classes/AnnotationStory.html">AnnotationStory</a></li>
                                <li><a href="../classes/AxisHelper.html">AxisHelper</a></li>
                                <li><a href="../classes/BoxGeometry.html">BoxGeometry</a></li>
                                <li><a href="../classes/BuildableModel.html">BuildableModel</a></li>
                                <li><a href="../classes/Camera.html">Camera</a></li>
                                <li><a href="../classes/CameraControl.html">CameraControl</a></li>
                                <li><a href="../classes/CameraFlightAnimation.html">CameraFlightAnimation</a></li>
                                <li><a href="../classes/CameraFollowAnimation.html">CameraFollowAnimation</a></li>
                                <li><a href="../classes/CameraPath.html">CameraPath</a></li>
                                <li><a href="../classes/CameraPathAnimation.html">CameraPathAnimation</a></li>
                                <li><a href="../classes/Canvas.html">Canvas</a></li>
                                <li><a href="../classes/Clip.html">Clip</a></li>
                                <li><a href="../classes/ClipHelper.html">ClipHelper</a></li>
                                <li><a href="../classes/Clips.html">Clips</a></li>
                                <li><a href="../classes/Component.html">Component</a></li>
                                <li><a href="../classes/CubeTexture.html">CubeTexture</a></li>
                                <li><a href="../classes/CubicBezierCurve.html">CubicBezierCurve</a></li>
                                <li><a href="../classes/Curve.html">Curve</a></li>
                                <li><a href="../classes/CylinderGeometry.html">CylinderGeometry</a></li>
                                <li><a href="../classes/DirLight.html">DirLight</a></li>
                                <li><a href="../classes/EmphasisMaterial.html">EmphasisMaterial</a></li>
                                <li><a href="../classes/Entity.html">Entity</a></li>
                                <li><a href="../classes/Fresnel.html">Fresnel</a></li>
                                <li><a href="../classes/Frustum.html">Frustum</a></li>
                                <li><a href="../classes/Geometry.html">Geometry</a></li>
                                <li><a href="../classes/GeometryBuilder.html">GeometryBuilder</a></li>
                                <li><a href="../classes/GLTFModel.html">GLTFModel</a></li>
                                <li><a href="../classes/HeightmapGeometry.html">HeightmapGeometry</a></li>
                                <li><a href="../classes/Input.html">Input</a></li>
                                <li><a href="../classes/LabelHelper.html">LabelHelper</a></li>
                                <li><a href="../classes/LambertMaterial.html">LambertMaterial</a></li>
                                <li><a href="../classes/Lights.html">Lights</a></li>
                                <li><a href="../classes/LoadingEffect.html">LoadingEffect</a></li>
                                <li><a href="../classes/Lookat.html">Lookat</a></li>
                                <li><a href="../classes/Material.html">Material</a></li>
                                <li><a href="../classes/MetallicMaterial.html">MetallicMaterial</a></li>
                                <li><a href="../classes/Model.html">Model</a></li>
                                <li><a href="../classes/Nintendo3DSGeometry.html">Nintendo3DSGeometry</a></li>
                                <li><a href="../classes/OBBGeometry.html">OBBGeometry</a></li>
                                <li><a href="../classes/OBBHelper.html">OBBHelper</a></li>
                                <li><a href="../classes/OBJGeometry.html">OBJGeometry</a></li>
                                <li><a href="../classes/OBJModel.html">OBJModel</a></li>
                                <li><a href="../classes/Ortho.html">Ortho</a></li>
                                <li><a href="../classes/OutlineMaterial.html">OutlineMaterial</a></li>
                                <li><a href="../classes/Path.html">Path</a></li>
                                <li><a href="../classes/PathGeometry.html">PathGeometry</a></li>
                                <li><a href="../classes/Perspective.html">Perspective</a></li>
                                <li><a href="../classes/PhongMaterial.html">PhongMaterial</a></li>
                                <li><a href="../classes/Pin.html">Pin</a></li>
                                <li><a href="../classes/PlaneGeometry.html">PlaneGeometry</a></li>
                                <li><a href="../classes/PlaneHelper.html">PlaneHelper</a></li>
                                <li><a href="../classes/PointLight.html">PointLight</a></li>
                                <li><a href="../classes/QuadraticBezierCurve.html">QuadraticBezierCurve</a></li>
                                <li><a href="../classes/Quaternion.html">Quaternion</a></li>
                                <li><a href="../classes/Rotate.html">Rotate</a></li>
                                <li><a href="../classes/Scale.html">Scale</a></li>
                                <li><a href="../classes/Scene.html">Scene</a></li>
                                <li><a href="../classes/SceneJSModel.html">SceneJSModel</a></li>
                                <li><a href="../classes/Shadow.html">Shadow</a></li>
                                <li><a href="../classes/Skybox.html">Skybox</a></li>
                                <li><a href="../classes/SpecularMaterial.html">SpecularMaterial</a></li>
                                <li><a href="../classes/SphereGeometry.html">SphereGeometry</a></li>
                                <li><a href="../classes/Spinner.html">Spinner</a></li>
                                <li><a href="../classes/SplineCurve.html">SplineCurve</a></li>
                                <li><a href="../classes/SplineCurveHelper.html">SplineCurveHelper</a></li>
                                <li><a href="../classes/SpotLight.html">SpotLight</a></li>
                                <li><a href="../classes/StereoEffect.html">StereoEffect</a></li>
                                <li><a href="../classes/STLModel.html">STLModel</a></li>
                                <li><a href="../classes/Story.html">Story</a></li>
                                <li><a href="../classes/TeapotGeometry.html">TeapotGeometry</a></li>
                                <li><a href="../classes/TestModel.html">TestModel</a></li>
                                <li><a href="../classes/Texture.html">Texture</a></li>
                                <li><a href="../classes/TorusGeometry.html">TorusGeometry</a></li>
                                <li><a href="../classes/Transform.html">Transform</a></li>
                                <li><a href="../classes/Translate.html">Translate</a></li>
                                <li><a href="../classes/VectorTextGeometry.html">VectorTextGeometry</a></li>
                                <li><a href="../classes/Viewport.html">Viewport</a></li>
                                <li><a href="../classes/xeogl.html">xeogl</a></li>
                                <li><a href="../classes/xeogl.math.math.html">xeogl.math.math</a></li>
                            </ul>
                
                            <ul id="api-modules" class="apis modules">
                                <li><a href="..//modules/animation.html">animation</a></li>
                                <li><a href="..//modules/annotations.html">annotations</a></li>
                                <li><a href="..//modules/camera.html">camera</a></li>
                                <li><a href="..//modules/canvas.html">canvas</a></li>
                                <li><a href="..//modules/clipping.html">clipping</a></li>
                                <li><a href="..//modules/controls.html">controls</a></li>
                                <li><a href="..//modules/curves.html">curves</a></li>
                                <li><a href="..//modules/effects.html">effects</a></li>
                                <li><a href="..//modules/entities.html">entities</a></li>
                                <li><a href="..//modules/generation.html">generation</a></li>
                                <li><a href="..//modules/geometry.html">geometry</a></li>
                                <li><a href="..//modules/helpers.html">helpers</a></li>
                                <li><a href="..//modules/input.html">input</a></li>
                                <li><a href="..//modules/lighting.html">lighting</a></li>
                                <li><a href="..//modules/materials.html">materials</a></li>
                                <li><a href="..//modules/math.html">math</a></li>
                                <li><a href="..//modules/models.html">models</a></li>
                                <li><a href="..//modules/rendering.html">rendering</a></li>
                                <li><a href="..//modules/skyboxes.html">skyboxes</a></li>
                                <li><a href="..//modules/stories.html">stories</a></li>
                                <li><a href="..//modules/transforms.html">transforms</a></li>
                                <li><a href="..//modules/xeogl.html">xeogl</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="yui3-u-3-4">
                <!--<div id="api-options">-->
                    <!--Show:-->
                    <!--<label for="api-show-inherited">-->
                        <!--<input type="checkbox" id="api-show-inherited" checked>-->
                        <!--Inherited-->
                    <!--</label>-->
            
                    <!--<label for="api-show-protected">-->
                        <!--<input type="checkbox" id="api-show-protected">-->
                        <!--Protected-->
                    <!--</label>-->
            
                    <!--<label for="api-show-private">-->
                        <!--<input type="checkbox" id="api-show-private">-->
                        <!--Private-->
                    <!--</label>-->
                    <!--<label for="api-show-deprecated">-->
                        <!--<input type="checkbox" id="api-show-deprecated">-->
                        <!--Deprecated-->
                    <!--</label>-->
            
                <!--</div>-->
            
            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
<h1 class="file-heading">File: src/xeogl.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
/**
 The xeogl namespace.

 @class xeogl
 @main xeogl
 @static
 @author xeolabs / http://xeolabs.com/
 */
(function () {

    &quot;use strict&quot;;

    // Fast queue that avoids using potentially inefficient array .shift() calls
    // Based on https://github.com/creationix/fastqueue
    var Queue = function () {

        var head = [];
        var headLength = 0;
        var tail = [];
        var index = 0;
        this.length = 0;

        this.shift = function () {
            if (index &gt;= headLength) {
                var t = head;
                t.length = 0;
                head = tail;
                tail = t;
                index = 0;
                headLength = head.length;
                if (!headLength) {
                    return;
                }
            }
            var value = head[index];
            if (index &lt; 0) {
                delete head[index++];
            }
            else {
                head[index++] = undefined;
            }
            this.length--;
            return value;
        };

        this.push = function (item) {
            this.length++;
            tail.push(item);
            return this;
        };

        this.unshift = function (item) {
            head[--index] = item;
            this.length++;
            return this;
        };
    };

    var xeogl = function () {

        this._debug = {
            forceHighShaderPrecision: false
        };

        /**
         * Semantic version number. The value for this is set by an expression that&#x27;s concatenated to
         * the end of the built binary by the xeogl build script.
         * @property version
         * @namespace xeogl
         * @type {String}
         */
        this.version = null;

        /**
         * Information about available WebGL support
         */
        this.WEBGL_INFO = (function () {
            var info = {
                WEBGL: false
            };

            var canvas = document.createElement(&quot;canvas&quot;);

            if (!canvas) {
                return info;
            }

            var gl = canvas.getContext(&quot;webgl&quot;, {antialias: true}) || canvas.getContext(&quot;experimental-webgl&quot;, {antialias: true});

            info.WEBGL = !!gl;

            if (!info.WEBGL) {
                return info;
            }

            info.ANTIALIAS = gl.getContextAttributes().antialias;

            if (gl.getShaderPrecisionFormat) {
                if (gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.HIGH_FLOAT).precision &gt; 0) {
                    info.FS_MAX_FLOAT_PRECISION = &quot;highp&quot;;
                } else if (gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.MEDIUM_FLOAT).precision &gt; 0) {
                    info.FS_MAX_FLOAT_PRECISION = &quot;mediump&quot;;
                } else {
                    info.FS_MAX_FLOAT_PRECISION = &quot;lowp&quot;;
                }
            } else {
                info.FS_MAX_FLOAT_PRECISION = &quot;mediump&quot;;
            }

            info.DEPTH_BUFFER_BITS = gl.getParameter(gl.DEPTH_BITS);
            info.MAX_TEXTURE_SIZE = gl.getParameter(gl.MAX_TEXTURE_SIZE);
            info.MAX_CUBE_MAP_SIZE = gl.getParameter(gl.MAX_CUBE_MAP_TEXTURE_SIZE);
            info.MAX_RENDERBUFFER_SIZE = gl.getParameter(gl.MAX_RENDERBUFFER_SIZE);
            info.MAX_TEXTURE_UNITS = gl.getParameter(gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS);
            info.MAX_TEXTURE_IMAGE_UNITS = gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS);
            info.MAX_VERTEX_ATTRIBS = gl.getParameter(gl.MAX_VERTEX_ATTRIBS);
            info.MAX_VERTEX_UNIFORM_VECTORS = gl.getParameter(gl.MAX_VERTEX_UNIFORM_VECTORS);
            info.MAX_FRAGMENT_UNIFORM_VECTORS = gl.getParameter(gl.MAX_FRAGMENT_UNIFORM_VECTORS);
            info.MAX_VARYING_VECTORS = gl.getParameter(gl.MAX_VARYING_VECTORS);

            info.SUPPORTED_EXTENSIONS = {};

            gl.getSupportedExtensions().forEach(function (ext) {
                info.SUPPORTED_EXTENSIONS[ext] = true;
            });

            return info;
        })();

        /**
         * Tracks statistics within xeogl, such as numbers of
         * scenes, textures, geometries etc.
         * @final
         * @property stats
         * @type {*}
         */
        this.stats = {
            build: {
                version: xeogl.version
            },
            client: {
                browser: (navigator &amp;&amp; navigator.userAgent) ? navigator.userAgent : &quot;n/a&quot;
            },

            // TODO: replace &#x27;canvas&#x27; with &#x27;pixels&#x27;
            //canvas: {
            //    width: 0,
            //    height: 0
            //},
            components: {
                scenes: 0,
                models: 0,
                entities: 0
            },
            memory: {

                // Note that these counts will include any positions, colors,
                // normals and indices that xeogl internally creates on-demand
                // to support color-index triangle picking.

                meshes: 0,
                positions: 0,
                colors: 0,
                normals: 0,
                uvs: 0,
                indices: 0,
                textures: 0,
                transforms: 0,
                materials: 0,
                programs: 0
            },
            frame: {
                frameCount: 0,
                fps: 0,
                useProgram: 0,
                bindTexture: 0,
                bindArray: 0,
                drawElements: 0,
                drawArrays: 0,
                tasksRun: 0,
                tasksScheduled: 0
            }
        };

        // Ensures unique scene IDs
        // Lazy-instantiated because its class is on the
        // namespace of this object, and so won&#x27;t be defined yet
        this._sceneIDMap = null;

        // Default singleton Scene, lazy-initialized in getter
        this._scene = null;

        /**
         * Existing {{#crossLink &quot;Scene&quot;}}Scene{{/crossLink}}s , mapped to their IDs
         * @property scenes
         * @namespace xeogl
         * @type {{String:xeogl.Scene}}
         */
        this.scenes = {};

        // Used for throttling FPS for each Scene
        this._scenesRenderInfo = {};

        /**
         * For each component type, a list of its supertypes, ordered upwards in the hierarchy.
         * @type {{}}
         * @private
         */
        this._superTypes = {};

        // Task queue, which is pumped on each frame;
        // tasks are pushed to it with calls to xeogl.schedule

        this._taskQueue = new Queue();

        //-----------------------------------------------------------------------
        // Game loop
        //
        // https://developer.mozilla.org/en-US/docs/Games/Anatomy
        //
        // http://gameprogrammingpatterns.com/game-loop.html
        //-----------------------------------------------------------------------

        var self = this;

        (function () {

            var tickEvent = {
                sceneId: null,
                time: null,
                startTime: null,
                prevTime: null,
                deltaTime: null
            };

            // Hoisted vars

            var taskBudget = 10; // Millisecs we&#x27;re allowed to spend on tasks in each frame
            var frameTime;
            var lastFrameTime = 0;
            var elapsedFrameTime;
            var newFPS;
            var fpsSamples = [];
            var numFPSSamples = 30;
            var totalFPS = 0;
            var updateTime;
            var id;
            var scene;

            var frame = function () {

                frameTime = Date.now();

                // Moving average of FPS

                if (lastFrameTime &gt; 0) {
                    elapsedFrameTime = frameTime - lastFrameTime;
                    newFPS = 1000 / elapsedFrameTime;
                    totalFPS += newFPS;
                    fpsSamples.push(newFPS);
                    if (fpsSamples.length &gt;= numFPSSamples) {
                        totalFPS -= fpsSamples.shift();
                    }
                    self.stats.frame.fps = Math.round(totalFPS / fpsSamples.length);

                }

                update();

                render();

                lastFrameTime = frameTime;

                window.requestAnimationFrame(frame);
            };


            function update() {

                updateTime = Date.now();

                // Process as many enqueued tasks as we can
                // within the per-frame task budget

                var tasksRun = self._runScheduledTasks(updateTime + taskBudget);
                var tasksScheduled = self._taskQueue.length;

                self.stats.frame.tasksRun = tasksRun;
                self.stats.frame.tasksScheduled = tasksScheduled;
                self.stats.frame.tasksBudget = taskBudget;

                tickEvent.time = updateTime;

                // Fire a &quot;tick&quot; event at the scene, which will in turn cause
                // all sorts of scene components to schedule more tasks

                for (id in self.scenes) {
                    if (self.scenes.hasOwnProperty(id)) {

                        scene = self.scenes[id];

                        // Fire the tick event at the scene

                        tickEvent.sceneId = id;
                        tickEvent.startTime = scene.startTime;
                        tickEvent.deltaTime = tickEvent.prevTime != null ? tickEvent.time - tickEvent.prevTime : 0;

                        /**
                         * Fired on each game loop iteration.
                         *
                         * @event tick
                         * @param {String} sceneID The ID of this Scene.
                         * @param {Number} startTime The time in seconds since 1970 that this Scene was instantiated.
                         * @param {Number} time The time in seconds since 1970 of this &quot;tick&quot; event.
                         * @param {Number} prevTime The time of the previous &quot;tick&quot; event from this Scene.
                         * @param {Number} deltaTime The time in seconds since the previous &quot;tick&quot; event from this Scene.
                         */
                        scene.fire(&quot;tick&quot;, tickEvent, true);
                    }
                }

                tickEvent.prevTime = updateTime;
            }

            function render() {

                var scenes = self.scenes;
                var scenesRenderInfo = self._scenesRenderInfo;
                var scene;
                var renderInfo;
                var ticksPerRender;

                var forceRender = false;
                for (id in scenes) {
                    if (scenes.hasOwnProperty(id)) {

                        scene = scenes[id];
                        renderInfo = scenesRenderInfo[id];

                        ticksPerRender = scene.ticksPerRender;

                        if (renderInfo.ticksPerRender !== ticksPerRender) {
                            renderInfo.ticksPerRender = ticksPerRender;
                            renderInfo.renderCountdown = ticksPerRender;
                        }

                        if (--renderInfo.renderCountdown === 0) {
                            scene.render(forceRender);
                            renderInfo.renderCountdown = ticksPerRender;
                        }
                    }
                }
            }

            window.requestAnimationFrame(frame);

        })();
    };

    xeogl.prototype = {

        constructor: xeogl,

        /**
         The default {{#crossLink &quot;Scene&quot;}}Scene{{/crossLink}}.

         Components created without an explicit parent {{#crossLink &quot;Scene&quot;}}Scene{{/crossLink}} will be created within this
         {{#crossLink &quot;Scene&quot;}}Scene{{/crossLink}} by default.

         xeogl creates the default {{#crossLink &quot;Scene&quot;}}Scene{{/crossLink}} as soon as you either
         reference this property for the first time, or create your first {{#crossLink &quot;Entity&quot;}}Entity{{/crossLink}} without
         a specified {{#crossLink &quot;Scene&quot;}}Scene{{/crossLink}}.

         @property scene
         @namespace xeogl
         @final
         @type Scene
         */
        get scene() {

            // xeogl.Scene constructor will call this._addScene
            // to register itself on xeogl

            return this._scene || (this._scene = new window.xeogl.Scene({
                    id: &quot;default.scene&quot;
                }));
        },

        set scene(value) {
            this._scene = value;
        },

        /**
         * Registers a scene on xeogl.
         * This is called within the xeogl.Scene constructor.
         *
         * @method _addScene
         * @param {Scene} scene The scene
         * @private
         */
        _addScene: function (scene) {

            this._sceneIDMap = this._sceneIDMap || new window.xeogl.utils.Map();

            if (scene.id) {

                // User-supplied ID

                if (this.scenes[scene.id]) {
                    console.error(&quot;[ERROR] Scene &quot; + xeogl._inQuotes(scene.id) + &quot; already exists&quot;);
                    return;
                }

            } else {

                // Auto-generated ID

                scene.id = this._sceneIDMap.addItem(scene);
            }

            this.scenes[scene.id] = scene;

            var ticksPerRender = scene.ticksPerRender;

            this._scenesRenderInfo[scene.id] = {
                ticksPerRender: ticksPerRender,
                renderCountdown: ticksPerRender
            };

            this.stats.components.scenes++;

            var self = this;

            // Unregister destroyed scenes

            scene.on(&quot;destroyed&quot;,
                function () {

                    self._sceneIDMap.removeItem(scene.id);

                    delete self.scenes[scene.id];
                    delete self._scenesRenderInfo[scene.id];

                    self.stats.components.scenes--;
                });
        },

        /**
         * Schedule a task for xeogl to run at the next frame.
         *
         * Internally, this pushes the task to a FIFO queue. Within each frame interval, xeogl processes the queue
         * for a certain period of time, popping tasks and running them. After each frame interval, tasks that did not
         * get a chance to run during the task are left in the queue to be run next time.
         *
         * @method scheduleTask
         * @param {Function} callback Callback that runs the task.
         * @param {Object} [scope] Scope for the callback.
         */
        scheduleTask: function (callback, scope) {
            this._taskQueue.push(callback);
            this._taskQueue.push(scope);
        },

        deferTask: function (callback, scope) {
            if (scope) {
                callback.call(scope);
            } else {
                callback();
            }
        },

        // Pops and propcesses tasks in the queue, until the
        // given number of milliseconds has elapsed.
        _runScheduledTasks: function (until) {

            var time = (new Date()).getTime();
            var taskQueue = this._taskQueue;
            var callback;
            var scope;
            var tasksRun = 0;

            while (taskQueue.length &gt; 0 &amp;&amp; time &lt; until) {
                callback = taskQueue.shift();
                scope = taskQueue.shift();
                if (scope) {
                    callback.call(scope);
                } else {
                    callback();
                }
                time = (new Date()).getTime();
                tasksRun++;
            }

            return tasksRun;
        },

        /**
         * Destroys all user-created {{#crossLink &quot;Scene&quot;}}Scenes{{/crossLink}} and
         * clears the default {{#crossLink &quot;Scene&quot;}}Scene{{/crossLink}}.
         *
         * @method clear
         * @demo foo
         */
        clear: function () {

            var scene;

            for (var id in this.scenes) {
                if (this.scenes.hasOwnProperty(id)) {

                    scene = this.scenes[id];

                    // Only clear the default Scene
                    // but destroy all the others

                    if (id === &quot;default.scene&quot;) {
                        scene.clear();
                    } else {
                        scene.destroy();
                    }
                }
            }
            this.scenes = {};
        },

        /**
         * Tests if the given object is an array
         * @private
         */
        _isArray: function (testEntity) {
            return testEntity &amp;&amp; !(testEntity.propertyIsEnumerable(&#x27;length&#x27;)) &amp;&amp; typeof testEntity === &#x27;object&#x27; &amp;&amp; typeof testEntity.length === &#x27;number&#x27;;
        },

        /**
         * Tests if the given value is a string
         * @param value
         * @returns {boolean}
         * @private
         */
        _isString: function (value) {
            return (typeof value === &#x27;string&#x27; || value instanceof String);
        },

        /**
         * Tests if the given value is a number
         * @param value
         * @returns {boolean}
         * @private
         */
        _isNumeric: function (value) {
            return !isNaN(parseFloat(value)) &amp;&amp; isFinite(value);
        },

        /**
         * Tests if the given value is an ID
         * @param value
         * @returns {boolean}
         * @private
         */
        _isID: function (value) {
            return xeogl._isString(value) || xeogl._isNumeric(value);
        },

        /**
         * Tests if the given components are the same, where the components can be either IDs or instances.
         * @param c1
         * @param c2
         * @returns {boolean}
         * @private
         */
        _isSameComponent: function (c1, c2) {

            if (!c1 || !c2) {
                return false;
            }

            var id1 = (xeogl.prototype._isNumeric(c1) || xeogl.prototype._isString(c1)) ? &quot;&quot; + c1 : c1.id;
            var id2 = (xeogl.prototype._isNumeric(c2) || xeogl.prototype._isString(c2)) ? &quot;&quot; + c2 : c2.id;

            return id1 === id2;
        },

        /**
         * Tests if the given value is a function
         * @param value
         * @returns {boolean}
         * @private
         */
        _isFunction: function (value) {
            return (typeof value === &quot;function&quot;);
        },

        /**
         * Tests if the given value is a JavaScript JSON object, eg, &#x60;&#x60;&#x60;&#x60;{ foo: &quot;bar&quot; }&#x60;&#x60;&#x60;&#x60;.
         * @param value
         * @returns {boolean}
         * @private
         */
        _isObject: (function () {
            var objectConstructor = {}.constructor;
            return function (value) {
                return (!!value &amp;&amp; value.constructor === objectConstructor);
            };
        })(),

        /**
         * Tests if the given component type is a subtype of another component supertype.
         * @param {String} type
         * @param {String} [superType=&quot;xeogl.Component&quot;]
         * @returns {boolean}
         * @private
         */
        _isComponentType: function (type, superType) {

            superType = superType || &quot;xeogl.Component&quot;;

            if (type === superType) {
                return true;
            }

            var superTypes = this._superTypes[type];

            if (!superTypes) {
                return false;
            }

            for (var i = superTypes.length - 1; i &gt;= 0; i--) {
                if (superTypes[i] === superType) {
                    return true;
                }
            }

            return false;
        },

        /** Returns a shallow copy
         */
        _copy: function (o) {
            return this._apply(o, {});
        },

        /** Add properties of o to o2, overwriting them on o2 if already there
         */
        _apply: function (o, o2) {
            for (var name in o) {
                if (o.hasOwnProperty(name)) {
                    o2[name] = o[name];
                }
            }
            return o2;
        },

        /**
         * Add non-null/defined properties of o to o2
         * @private
         */
        _apply2: function (o, o2) {
            for (var name in o) {
                if (o.hasOwnProperty(name)) {
                    if (o[name] !== undefined &amp;&amp; o[name] !== null) {
                        o2[name] = o[name];
                    }
                }
            }
            return o2;
        },

        /**
         * Add properties of o to o2 where undefined or null on o2
         * @private
         */
        _applyIf: function (o, o2) {
            for (var name in o) {
                if (o.hasOwnProperty(name)) {
                    if (o2[name] === undefined || o2[name] === null) {
                        o2[name] = o[name];
                    }
                }
            }
            return o2;
        },

        /**
         * Returns true if the given map is empty.
         * @param obj
         * @returns {boolean}
         * @private
         */
        _isEmptyObject: function (obj) {
            for (var name in obj) {
                if (obj.hasOwnProperty(name)) {
                    return false;
                }
            }
            return true;
        },

        /**
         * Returns the given ID as a string, in quotes if the ID was a string to begin with.
         *
         * This is useful for logging IDs.
         *
         * @param {Number| String} id The ID
         * @returns {String}
         * @private
         */
        _inQuotes: function (id) {
            return this._isNumeric(id) ? (&quot;&quot; + id) : (&quot;&#x27;&quot; + id + &quot;&#x27;&quot;);
        },

        /**
         * Returns the concatenation of two typed arrays.
         * @param a
         * @param b
         * @returns {*|a}
         * @private
         */
        _concat: function (a, b) {
            var c = new a.constructor(a.length + b.length);
            c.set(a);
            c.set(b, a.length);
            return c;
        }
    };

    // Have a lower-case xeogl namespace as well,
    // just because it&#x27;s easier to type when live-coding

    window.xeogl = window.xeogl = new xeogl();

})
();

    </pre>
</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
